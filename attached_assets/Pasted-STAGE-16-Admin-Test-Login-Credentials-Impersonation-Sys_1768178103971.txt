STAGE 16 ‚Äî Admin Test Login Credentials & Impersonation System (FINAL CORE FEATURE)
OBJECTIVE

Enable the Admin to create, manage, and impersonate test login credentials for Users, Drivers, and Directors for QA, demos, and safe testing ‚Äî without affecting real data, payouts, or analytics.

1Ô∏è‚É£ ADD NEW ADMIN DASHBOARD BUTTON

Add a new card/button to Admin Dashboard:

Title: üß™ Manage Test Accounts

Description: Create and manage test login credentials for Users, Drivers, and Directors

Route: /admin/test-accounts

2Ô∏è‚É£ TEST ACCOUNT DATA MODEL

Extend the user system with the following fields:

isTestAccount: boolean (default false)

testAccountType: 'USER' | 'DRIVER' | 'DIRECTOR' | null

createdByAdminId

testDisabled: boolean

These accounts must be fully isolated from production logic.

3Ô∏è‚É£ ADMIN ‚Üí CREATE TEST ACCOUNT FLOW

On /admin/test-accounts, allow Admin to:

Select Account Type

User

Driver

Director

Select Country

Auto-generate:

Email (example: test-driver-001@ziba.test)

Password (display once + copy button)

Role based on account type

Set:

isTestAccount = true

status = TEST

Add Create Test Account button.

4Ô∏è‚É£ ADMIN IMPERSONATION (‚ÄúLOGIN AS‚Äù)

For each test account, allow Admin to:

Click ‚ÄúLogin as User / Driver / Director‚Äù

Temporarily impersonate that account

Preserve Admin session in background

When impersonating:

Show a fixed top banner:

üß™ You are logged in as a TEST account

Provide Return to Admin button

5Ô∏è‚É£ TEST ACCOUNT RESTRICTIONS (CRITICAL)

Test accounts must NOT:

Receive real payments

Trigger payouts

Affect revenue totals

Affect incentives

Appear in production analytics

Block:

Wallet withdrawals

Driver live availability in production mode

6Ô∏è‚É£ TEST ACCOUNT MANAGEMENT CONTROLS

Admin can:

Reset test password

Disable test account

Delete test account permanently

Disabled test accounts cannot log in.

7Ô∏è‚É£ SECURITY & ENVIRONMENT LOCK

Add environment toggle:

ALLOW_TEST_LOGIN=true


Rules:

If false, hide:

Test Accounts UI

Impersonation

Only Admin role can access this system

Never expose in public routes

8Ô∏è‚É£ UI STYLING (ZIBA BRAND COLORS)

Use Ziba colors ONLY:

üüß Amber ‚Üí TEST badges, warnings

üü¶ Turquoise ‚Üí primary buttons

Dark premium background

Test accounts must be clearly labeled:

Badge: TEST

Amber accent outline

9Ô∏è‚É£ STAGE COMPLETION CONDITIONS

Auto-mark Stage 16 complete when:

Admin can create test credentials

Admin can impersonate test accounts

Test accounts are isolated from production

Feature is toggle-controlled via environment variable
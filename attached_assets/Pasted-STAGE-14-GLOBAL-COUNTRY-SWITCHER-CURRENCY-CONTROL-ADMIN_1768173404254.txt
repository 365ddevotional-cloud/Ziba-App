STAGE 14 â€” GLOBAL COUNTRY SWITCHER + CURRENCY CONTROL (ADMIN-ONLY)
ğŸ¯ Goal of Stage 14

Add a real Admin-controlled Country Selector that:

Appears in the Admin Dashboard header

Controls:

Currency symbol (â‚¦, $, Â£, â‚¬, â‚µ, R)

Country context for rides, revenue, incentives

Is persisted (does not reset on refresh)

Is admin-only

Supports current + future countries cleanly

ğŸ§  Countries to Support (NOW)

Nigeria ğŸ‡³ğŸ‡¬ â†’ â‚¦ NGN

Ghana ğŸ‡¬ğŸ‡­ â†’ â‚µ GHS

Liberia ğŸ‡±ğŸ‡· â†’ $ USD

South Africa ğŸ‡¿ğŸ‡¦ â†’ R ZAR

United States ğŸ‡ºğŸ‡¸ â†’ $ USD

Mexico ğŸ‡²ğŸ‡½ â†’ $ MXN

United Kingdom ğŸ‡¬ğŸ‡§ â†’ Â£ GBP

France ğŸ‡«ğŸ‡· â†’ â‚¬ EUR

ğŸ§© WHAT TO IMPLEMENT (DO NOT SKIP)
1ï¸âƒ£ Global Country Configuration (Single Source of Truth)

Create a central config (frontend + backend-safe):

const COUNTRIES = {
  NG: { name: "Nigeria", currency: "NGN", symbol: "â‚¦" },
  GH: { name: "Ghana", currency: "GHS", symbol: "â‚µ" },
  LR: { name: "Liberia", currency: "USD", symbol: "$" },
  ZA: { name: "South Africa", currency: "ZAR", symbol: "R" },
  US: { name: "United States", currency: "USD", symbol: "$" },
  MX: { name: "Mexico", currency: "MXN", symbol: "$" },
  UK: { name: "United Kingdom", currency: "GBP", symbol: "Â£" },
  FR: { name: "France", currency: "EUR", symbol: "â‚¬" }
};

2ï¸âƒ£ Admin Country Dropdown (HEADER)

Add a ğŸŒ Country dropdown in the Admin Dashboard header (top-right):

Label: Country

Dropdown options: all countries above

Only visible when:

User role === ADMIN

Default:

Nigeria (NG)

Example UI:

ğŸŒ Country: Nigeria â–¾

3ï¸âƒ£ Persist Selected Country

Save selected country in:

Database (admin_settings table) OR

Server session / localStorage (admin scope)

On reload:

Country MUST remain the same

Do NOT hardcode Nigeria after this stage

4ï¸âƒ£ Currency Formatting (CRITICAL FIX)

Replace all $ hardcoded formatting.

Every monetary value must use:

formatCurrency(amount, selectedCountry)


Where:

Rides fare

Revenue

Driver incentives

Wallets

Payouts

Example:

Nigeria â†’ â‚¦7,200

UK â†’ Â£7,200

France â†’ â‚¬7,200

âš ï¸ No screen should decide currency on its own

5ï¸âƒ£ Admin Dashboard Cards Update

Ensure these cards react to country change immediately:

Revenue

Driver Incentives

Ride Fare totals

No refresh required.

6ï¸âƒ£ Backend Safety Rule

Admin-selected country must be sent with API requests

Backend validates currency formatting

Prevent mismatched country + currency

7ï¸âƒ£ Future-Proofing (MANDATORY)

Adding a new country must require:

1 config entry

NO UI rewrites

Do NOT scatter country logic across files

âœ… ACCEPTANCE CHECKLIST (Stage 14 is DONE when ALL pass)

 Country dropdown visible in Admin header

 Dropdown switches country live

 â‚¦ shows for Nigeria everywhere

 Â£ shows for UK

 â‚¬ shows for France

 Selection persists after refresh

 Admin-only access

 No hardcoded $ remains

ğŸš¦ AFTER STAGE 14

Next stages (optional, not now):

Stage 15: Geo-based default country

Stage 16: Multi-currency wallets

Stage 17: FX conversion layer
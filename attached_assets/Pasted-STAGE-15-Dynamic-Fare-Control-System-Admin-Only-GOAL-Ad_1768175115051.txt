STAGE 15 â€” Dynamic Fare Control System (Admin-Only)

GOAL:
Add a central Fare Control system to the Admin Dashboard, Uber-style but optimized so Ziba is cheaper for riders and better for drivers, and works across all countries (Nigeria, Ghana, Liberia, South Africa, USA, Mexico, UK, France, future).

ğŸ“Œ WHAT THIS STAGE MUST DO (NO EXTRAS)
1ï¸âƒ£ Add a NEW Admin Dashboard Button

Add a new card/button on the Admin Dashboard:

Label:

Manage Ride Fares

Icon:

Currency / calculator / pricing icon

Route:

/admin/fares

Only visible to Admin.

2ï¸âƒ£ Create Admin â€“ Fare Management Page

Create a new page:

Title:

Admin â€“ Fare Settings

This page controls how rides are priced.

3ï¸âƒ£ Fare Configuration Model (Backend + DB-safe)

Create a FareConfig system (do NOT break existing rides).

Each country can have its own rules.

Fields per country:

Country

Currency (â‚¦, $, Â£, â‚¬, â‚µ, etc)

Base Fare

Price per KM/Mile

Price per Minute

Minimum Fare

Driver Commission %

Platform Commission %

Last Updated

Updated By (Admin)

âš ï¸ Must be editable only by Admin
âš ï¸ Changes apply only to new rides, not completed ones

4ï¸âƒ£ Uber-Style but Cheaper Logic (IMPORTANT)

Implement pricing logic:

fare =
baseFare
+ (distance Ã— pricePerKmOrMile)
+ (durationMinutes Ã— pricePerMinute)


Then:

Rider pays fare

Driver earns fare â€“ platformCommission

Platform keeps platformCommission

Defaults (Nigeria example):

Base Fare: â‚¦500

Price per KM/Mile: â‚¦120

Price per Minute: â‚¦30

Platform Commission: 10â€“15% (cheaper than Uber)

Driver keeps majority

5ï¸âƒ£ Country-Aware Currency Enforcement

Currency shown MUST match selected country

Nigeria â†’ â‚¦

Ghana â†’ â‚µ

USA â†’ $

UK â†’ Â£

France â†’ â‚¬

Mexico â†’ $

South Africa â†’ R

Liberia â†’ $

NO hard-coded $ anywhere.

6ï¸âƒ£ Admin Controls on Fare Page

Admin can:

Switch Country (dropdown)

Edit all fare values

Save changes

See a live preview:

â€œEstimated 10 KM/Mile / 20 min ride = â‚¦Xâ€

7ï¸âƒ£ Security Rules (MANDATORY)

Only Admin can access /admin/fares

API must reject non-admin updates (403)

Directors, Drivers, Users â†’ read-only pricing

8ï¸âƒ£ UI Expectations

Same dark theme

Inline editable fields

Save button per country

Success toast on update

Error toast on failure

9ï¸âƒ£ Do NOT

âŒ Remove auth
âŒ Break existing rides
âŒ Hardcode currency
âŒ Touch wallet logic
âŒ Reset database

âœ… FINAL CHECK BEFORE MARKING COMPLETE

Admin Dashboard shows Manage Ride Fares

/admin/fares loads

Country dropdown works

Currency switches correctly

New rides use updated pricing

Old rides unchanged

Admin-only access enforced

ğŸ“Œ EXECUTION INSTRUCTION

Implement Stage 15 fully, end-to-end.
Do not stop halfway.
Mark complete only when all checks pass.